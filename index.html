<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mimi & Niko</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arapey">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="page-header">
  <div class="header-center">
    <h1>Mimi & Niko</h1>
    <h2>wir heiraten.</h2>
  </div>
  <div class="header-right">
    <img src="pictures/rightCorner.png" alt="Logo">
  </div>
</header>
<div class="container">
  <p>Bitte gebe deinen Vornamen...</p>
  <input type="text" id="vorname" placeholder="Dein Vorname"  />
  <p>und Nachnamen ein::</p>
  <input type="text" id="nachname" placeholder="Dein Nachname"  />
  <p></p>
  <button onclick="submitName()">Continue</button>
</div>

<footer class="page-footer">
  <div class="footer-left">
    <img src="pictures/leftCorner.png" alt="Logo">
  </div>
  <div class="footer-center">
    <p>&copy; 2026 Mimi & Niko – Wir freuen uns auf euch.</p>
  </div>
</footer>

</body>

<script>
  // If the user went through landing.html, redirect them
  const group = localStorage.getItem('group');
  if (group) {
    window.location.href = `main.html?gst=${group}`; //
  }

  function submitName() {
    const vornameInput = document.getElementById('vorname');
    const nachnameInput = document.getElementById('nachname');
    const name = `${vornameInput.value.trim().toLowerCase()} ${nachnameInput.value.trim().toLowerCase()}`;
    if (!name) {
      alert('Please enter your name.');
      return;
    }

    const groups = {
      // Tovari Groups
      TVRi: ['tvr i', 'jens paar', 'selina paar'], // ToVaRi-internal : close f&f is invited to Tovari
      TVRp: ['tvr p'], // ToVaRi-pay : people who are assigned to Tovari
      TVRc: ['tvr c'], // ToVaRi-camper : people who are assigned to Tovari as camper
      TVRa: ['tvr a', 'marie gnott', 'niko arras'], // ToVaRi-accept : people accepted RSVP

      // Sopra Groups
      SOPp: ['sop p'], // SOPra-pay : people who are assigned to Sopra
      SOPa: ['sop a'], // SOPra-accept : people confirmed RSVP

      // Cardeto Groups
      CDOp: ['cdo p'], // CarDetO-pay : people who are assigned to Cardeto
      CDOa: ['cdo a'], // CarDetO-accept : people confirmed RSVP

      // Self Booker Groups
      SBK: ['sbk n', 'björn dornbusch'], // SelfBooKer : people who are not assigned and need to self book
      SBKie: ['sbk ie'], // SelfBooKer-internal-mezzo : people who have self booked on reserved MEZZO
      SBKim: ['sbk im'], // SelfBooKer-internal-mezzo : people who have self booked on reserved MERIDIANA
      SBKic: ['sbk ic'], // SelfBooKer-internal-mezzo : people who have self booked on reserved CIELO
      SBKe: ['sbk e'], // SelfBooKer-external : people who have self booked on own accommodation

    };

    function getGroup(name) {
      for (const [groupName, names] of Object.entries(groups)) {
        if (names.includes(name)) return groupName;
      }
      return 'none';
    }

    const group = getGroup(name);

    if (group !== 'none') {
      localStorage.setItem('name', name);
      localStorage.setItem('group', group);
      window.location.href = `main.html?gst=${group}`;
    }
  }
</script>
</html>